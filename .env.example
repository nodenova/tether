# leashd configuration
# Copy to .env and customize

# Required: directories the AI agent is allowed to work in (comma-separated)
LEASHD_APPROVED_DIRECTORIES=["/path/to/your/project"]
# Multi-project example:
# LEASHD_APPROVED_DIRECTORIES=["/path/to/project1", "/path/to/project2"]

# Max conversation turns per request (default: 25)
# LEASHD_MAX_TURNS=25

# Agent execution timeout in seconds (default: 1800 = 30 min)
# LEASHD_AGENT_TIMEOUT_SECONDS=3600

# Optional system prompt override
# LEASHD_SYSTEM_PROMPT="You are a helpful coding assistant."

# Policy files to load (comma-separated paths, default: built-in default.yaml)
# LEASHD_POLICY_FILES=policies/default.yaml,policies/custom.yaml

# Dev tools overlay is auto-loaded by default alongside default.yaml.
# To disable it, set LEASHD_POLICY_FILES without dev-tools.yaml:
# LEASHD_POLICY_FILES=leashd/policies/default.yaml

# Approval timeout in seconds (default: 300)
# LEASHD_APPROVAL_TIMEOUT_SECONDS=300

# Log level (default: INFO)
# LEASHD_LOG_LEVEL=INFO

# File logging (default: .leashd/logs, resolved per project directory)
# Logs are JSON lines written to {dir}/app.log with rotation.
# LEASHD_LOG_DIR=.leashd/logs

# Log rotation: max file size in bytes (default: 10MB) and backup count (default: 5)
# LEASHD_LOG_MAX_BYTES=10485760
# LEASHD_LOG_BACKUP_COUNT=5

# Audit log (default: .leashd/audit.jsonl, resolved per project directory)
# LEASHD_AUDIT_LOG_PATH=.leashd/audit.jsonl

# Streaming responses — progressively update Telegram messages as agent streams
# LEASHD_STREAMING_ENABLED=true
# LEASHD_STREAMING_THROTTLE_SECONDS=1.5

# Rate limiting (default: disabled)
# LEASHD_RATE_LIMIT_RPM=0
# LEASHD_RATE_LIMIT_BURST=5

# Session storage — "sqlite" (default, persistent) or "memory" (lost on restart)
# LEASHD_STORAGE_BACKEND=sqlite
# Per-project message/log DB (default: .leashd/messages.db, switches with /dir)
# LEASHD_STORAGE_PATH=.leashd/messages.db
# Session management DB is fixed at {leashd_root}/.leashd/sessions.db (not configurable)

# Tool allow/deny lists (default: all tools allowed)
# LEASHD_ALLOWED_TOOLS=
# LEASHD_DISALLOWED_TOOLS=

# Telegram connector (optional — enables remote access via Telegram bot)
# Get a token from @BotFather on Telegram
# LEASHD_TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
# LEASHD_ALLOWED_USER_IDS=
